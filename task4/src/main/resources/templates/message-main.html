<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="https://www.thymeleaf.org"
      xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity3">
<head>
    <title>Messages</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

<!--    <link href="/webjars/bootstrap/css/bootstrap.min.css" rel="stylesheet">-->
    <script type="text/javascript" src="/webjars/jquery/jquery.min.js"></script>
    <script type="text/javascript" src="/webjars/sockjs-client/sockjs.min.js"></script>
    <script type="text/javascript" src="/webjars/stomp-websocket/stomp.min.js"></script>

</head>
<body>
<header th:insert="blocks/header :: header"></header>

<div class="container mt-5">
    <h1>Messages</h1>
    <div class="container mt-5 mb-5">
        <h1>Send message</h1>
        <input id="receiver" type="text" th:name="receiver" placeholder="Type receiver name" class="form-control"><br>
        <input id="subject" type="text" th:name="subject" placeholder="Type subject" class="form-control"><br>
        <textarea id="message" th:name="full_text" placeholder="Type full text" class="form-control"></textarea><br>
        <button id="send-private" type="button" class="btn btn-success">Send</button>
    </div>
    <div th:each="el : ${messages}" class="alert alert-info mt-2">
        <h3 th:text="${el.sender}"></h3>
        <p th:text="${el.subject}"></p>
        <p th:text="${el.getFull_text()}"></p>
    </div>
</div>

<div class="container" style="margin-top: 50px">
<!--    <div class="row">-->
<!--        <div class="col-md-12">-->
<!--            <form class="form-inline">-->
<!--                <div class="form-group">-->
<!--                    <label for="message">Message</label>-->
<!--                    <input type="text" id="receiver" class="form-control" placeholder="Enter receiver...">-->
<!--                    <input type="text" id="message" class="form-control" placeholder="Enter your message here...">-->
<!--                </div>-->
<!--                <button id="send-private" class="btn btn-default" type="button">Send Private Message</button>-->
<!--            </form>-->
<!--        </div>-->
<!--    </div>-->
    <div class="row">
        <div class="col-md-12">
            <table id="message-history" class="table table-striped">
                <thead>
                <tr>
                    <th>Messages
                        <span
                                id="notifications"
                                style="
                                    color: white;
                                    background-color: red;
                                    padding-left: 15px;
                                    padding-right: 15px;">
                            </span>
                    </th>
                    <th>Subject</th>
                    <th>Full text</th>
                </tr>
                </thead>
                <tbody id="messages">
                </tbody>
            </table>
        </div>
    </div>
</div>

<script type="text/javascript" th:src="@{js/script.js}"></script>
</body>
</html>